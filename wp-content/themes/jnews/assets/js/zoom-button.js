!function(o){"use strict";window.jnews.zoom=window.jnews.zoom||{},window.jnews.zoom={init:function(){this.container=o("body"),this.refresh=!1,this.is_enable=void 0!==jnewsoption.zoom_button?jnewsoption.zoom_button:0,this.is_rtl=void 0!==jnewsoption.zoom_button?parseInt(jnewsoption.rtl):0,this.transform_origin=this.is_rtl?"top right":"0 0",this.zoomContainer=this.container.find(".jeg_meta_zoom"),(this.is_enable&&this.zoomContainer.length>0||this.zoomContainer.length>0)&&(this.zoomOut=this.zoomContainer.find(".zoom-out"),this.zoomReset=this.zoomContainer.find(".zoom-reset"),this.zoomIn=this.zoomContainer.find(".zoom-in"),this.zoomInStep=this.zoomContainer.attr("data-in-step"),this.zoomOutStep=10-this.zoomContainer.attr("data-out-step"),this.zoomLevel=1,this.progressBar=this.zoomContainer.find(".zoom-bar"),this.zoomEvent(),null!==this.getZoomCookie("zoom_position")&&this.updateZoomCookie(this.getZoomCookie("zoom_position")))},setSizeContent:function(t,n){var e=this,i=t,r=e.container.find(".content-inner");1!=t?e.container.addClass("jnews_zoom_activated"):e.container.removeClass("jnews_zoom_activated"),r.length>0&&r.each((function(t,n){var e=o(n),r=null===e.parents(".jeg_inner_content").width()?e.parents(".jeg_custom_content_wrapper").width():e.parents(".jeg_inner_content").width(),s=e.parents(".entry-content"),a=e.parents(".with-share"),m=parseInt(e.css("marginLeft").replace("px","")),h=parseInt(e.css("marginRight").replace("px","")),c=e.height(),d=e[0].getBoundingClientRect().height,f=i>=1?d>c?d:c:d>c?c:d,g=f-f/i,z=a.length>0?m+h:0,u=i>=1?r/i-z:r/i-2*z;u=1==i?"":u,s.length>0?(s.css({height:parseInt(f)+"px"}),e.css({width:u}),e.find(" > *").css({maxWidth:u})):(e.css({marginBottom:g+30}),e.css({width:u}),e.find(" > *").css({maxWidth:u}))})),n&&setTimeout((function(){e.setSizeContent(t,!1)}),150)},resetZoom:function(){var t=this;t.zoomLevel=1,t.updateProgressBar(1),document.cookie="zoom_position="+t.zoomLevel+"; path=/;",t.setSizeContent(t.zoomLevel,!0);var n=t.container.find(".content-inner"),e=n.parents(".entry-content");n.length>0&&n.each((function(i,r){t.refresh=!0;var s=o(r);s.find(" > *").css({maxWidth:""}),s.css({"-ms-zoom":"","-ms-transform":"","-ms-transform-origin":"","-moz-transform":"","-moz-transform-origin":"","-o-transform":"","-o-transform-origin":"","-webkit-transform":"","-webkit-transform-origin":"",overflow:"",width:""}).trigger("containerchange"),e.length>0?e.css({height:""}):n.css({marginBottom:""})}))},updateZoomCookie:function(t){var n=this;n.updateProgressBar(t);var e=n.container.find(".content-inner"),i="scale("+t+")",r=t,s=n.transform_origin,a="hidden";1==t&&(i="",r="",s="",a=""),e.length&&e.each((function(t,e){n.refresh=!0,o(e).css({"-ms-zoom":r,"-ms-transform":i,"-ms-transform-origin":s,"-moz-transform":i,"-moz-transform-origin":s,"-o-transform":i,"-o-transform-origin":s,"-webkit-transform":i,"-webkit-transform-origin":s,overflow:a}).trigger("containerchange")})),n.setSizeContent(t,!0)},updateZoom:function(t){var n=this;n.zoomLevel+=t,n.zoomLevel=n.zoomLevel>1+n.zoomInStep/10?1+n.zoomInStep/10:n.zoomLevel,n.zoomLevel=n.zoomLevel<n.zoomOutStep/10?n.zoomOutStep/10:n.zoomLevel,n.updateProgressBar(n.zoomLevel),document.cookie="zoom_position="+n.zoomLevel+"; path=/;";var e="scale("+n.zoomLevel+")",i=n.zoomLevel,r=n.transform_origin,s="hidden";1==n.zoomLevel&&(e="",i="",r="",s="");var a=n.container.find(".content-inner");a.length&&a.each((function(t,a){n.refresh=!0,o(a).css({"-ms-zoom":i,"-ms-transform":e,"-ms-transform-origin":r,"-moz-transform":e,"-moz-transform-origin":r,"-o-transform":e,"-o-transform-origin":r,"-webkit-transform":e,"-webkit-transform-origin":r,overflow:s}).trigger("containerchange")})),n.setSizeContent(n.zoomLevel,!0)},getZoomCookie:function(o){var t=document.cookie.match("(^|;) ?"+o+"=([^;]*)(;|$)");return t?t[2]:null},updateProgressBar:function(t){var n=o(this.progressBar),e=100*(t-.8)/.5+0,i=e+"%";e<=100?n.width(i):e>100&&n.width("100%")},zoomEvent:function(){var t=this,n=t.container.find(".content-inner");t.width=o(window).width(),t.height=o(window).height(),t.zoomOut.on("click",(function(){t.updateZoom(-.1)})),t.zoomIn.on("click",(function(){t.updateZoom(.1)})),t.zoomReset.on("click",(function(){t.resetZoom()})),n.length&&n.each((function(n,e){t.getZoomCookie("zoom_position");var i=o(e);i.off("containerchange DOMSubtreeModified changed.owl.carousel refreshed.owl.carousel").on("containerchange DOMSubtreeModified changed.owl.carousel refreshed.owl.carousel",(function(n){var e=o(this),r=e.parents(".post-autoload").length?e.parents(".post-autoload").data("id"):0,s=e;r&&(s=t.container.find('.post-autoload[data-id="'+r+'"]').find(".content-inner"));if(t.refresh){t.refresh=!1;var a=s.find(".owl-carousel");setTimeout((function(){a.each((function(t,n){o(n).data("owl.carousel").onResize(),i.trigger("contaianerchange")}))}),1500)}setTimeout(function(){var n=o(this),e=t.getZoomCookie("zoom_position"),i=n.parents(".entry-content"),r=n.parents(".post-autoload").length?n.parents(".post-autoload").data("id"):0,s=n;r&&(s=t.container.find('.post-autoload[data-id="'+r+'"]').find(".content-inner"));var a=s.height(),m=s[0].getBoundingClientRect().height,h=e>=1?m>a?m:a:m>a?a:m;i.length>0&&i.css({height:parseInt(h)+"px"})}.bind(this),1e3)}))})),o(window).resize((function(){o(window).width()===t.width&&o(window).height()===t.height||(t.width=o(window).width(),t.height=o(window).height(),t.resetZoom())}))}},o(document).on("jnews-ajax-load",(function(o,t){jnews.zoom.init()})),o(document).on("ready",(function(){jnews.zoom.init()}))}(jQuery);