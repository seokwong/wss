!function(e){"use strict";function n(){e.each(jnews_elementor.widgets,(function(n,t){var o="panel/widgets/wp-widget-"+t+"/controls/wp_widget/loaded";elementor.hooks.addAction(o,(function(n){!function(n){null==e._data(e(n.$el).find(".jeg_accordion_heading"),"events").click&&e(n.$el).find(".jeg_accordion_heading").on("click",(function(n){n.preventDefault();var t=e(this).parent(".jeg_accordion_wrapper"),o=e(t).children(".jeg_accordion_body");e(t).hasClass("open")?(e(o).slideUp("fast"),e(t).removeClass("open").addClass("close")):(e(o).slideDown("fast"),e(t).removeClass("close").addClass("open"))}))}(n),window.widget_script(n.$el)}))}))}function t(n){e(n.$el).on("click",".jnews_instagram_access_token",(function(e){if(e.preventDefault(),"undefined"!=typeof jnewsinstagramoption){var n="https://api.instagram.com/oauth/authorize?app_id=423965861585747&redirect_uri=https://api.smashballoon.com/instagram-basic-display-redirect.php&response_type=code&scope=user_profile,user_media&state="+jnewsinstagramoption.instagram_callback;window.open(n,"_blank").focus()}}))}function o(){elementor.hooks.addAction("panel/open_editor/widget/socialcounter",(function(n){!function(n){e(n.$el).on("click",".jnews_token_access.facebook",(function(n){n.preventDefault();var t,o=e(this),a=o.parents("#elementor-controls"),i={client_id:a.find(".elementor-control-fb_id input").val(),client_secret:a.find(".elementor-control-fb_secret input").val(),grant_type:"client_credentials"};e.ajax({url:"https://graph.facebook.com/oauth/access_token",data:i,dataType:"json",type:"POST",beforeSend:function(e){o.parent().find(".jnews-spinner").addClass("active")}}).done((function(e,n,o){t=e.access_token,a.find(".elementor-control-fb_key input").val(t)})).fail((function(e,n,t){window.alert("Info Message: "+t)})).always((function(e,n,t){o.parent().find(".jnews-spinner").removeClass("active")}))}))}(n)}))}function a(e,n){if(!e.length||e.length<3)return n();wp.ajax.send(this.ajax,{data:{query:e,nonce:this.nonce}}).done((function(e){n(e)}))}function i(n,t){t=function(e){if(function(e){return void 0!==e[0]&&void 0!==e[0].value&&void 0!==e[0].text}(e))return e;var n=[];return _.each(e,(function(e,t){n.push({value:t,text:e})})),n}(t);var o=e(n).data("multiple"),i=e(n).data("ajax"),r=e(n).data("nonce"),c={plugins:["drag_drop","remove_button"],multiple:o,hideSelected:!0,options:t,render:{option:function(e){return"<div><span>"+e.text+"</span></div>"}}};""!==i&&(c.load=a.bind({ajax:i,nonce:r}),c.create=!0,c.onItemAdd=function(){if("jeg_find_review"===i){var e=this.items;if(e.length>1)for(var n=0;n<e.length;n++)this.removeItem(e[n]),this.refreshOptions()}}),e(n).selectize(c)}function r(n){var t=e(n).val(),o=e(n).parent(),a=e(o).find(".data-option").text(),r=e(n).data("retriever"),c=e(n).data("nonce");(a=JSON.parse(a),""!==t&&0===a.length)?function(e,n,t){return wp.ajax.send(e,{data:{value:n,nonce:t}})}(r,t,c).done((function(e){i(n,e)})):i(n,a)}function c(n){"SELECT"===e(n).prop("tagName")?function(n){var t=e(n).data("ajax"),o=e(n).data("nonce"),i={allowEmptyOption:!0};""!==t&&(i.load=a.bind({ajax:t,nonce:o}),i.create=!0),e(n).selectize(i)}(n):r(n)}function d(e){return e<34?4:e<67?8:12}var l;window.open_control=function(n){var t=n.parent();t.hasClass("type-select")&&c(n),t.find("input.input-sortable").on("change",(function(){e(this).trigger("input")}))},e(window).on("request:edit",(n(),elementor.hooks.addAction("panel/open_editor/widget",(function(n){e(n.$el).find(".elementor-control-input-wrapper > input").each((function(){window.open_control(e(this))}))})),o(),elementor.hooks.addAction("panel/open_editor/widget/wp-widget-jnews_instagram",(function(e){t(e)})),elementor.hooks.addAction("panel/open_editor/widget/jnews_footer_instagram_elementor",(function(e){t(e)})),elementor.hooks.addFilter("elements/column/render/droppable-item-selector",(function(e){return"> .jegStickyHolder > .theiaStickySidebar > .elementor-column-wrap > .elementor-widget-wrap > .elementor-element, > .jegStickyHolder > .theiaStickySidebar >.elementor-column-wrap > .elementor-widget-wrap > .elementor-empty-view > .elementor-first-add, "+e})),l=12,elementor.channels.data.on("column:before:drop",(function(n){var t=e(n.delegateTarget).data("col");l=d(t)})),void e.ajaxPrefilter((function(n,t,o){if("elementor_ajax"===t.data.action){var a=JSON.parse(t.data.actions),i=Object.values(a)[0];if("render_widget"===i.action){var r=e(elementor.$previewContents.get(0).activeElement).find("[data-id='"+i.data.data.id+"']");if(r.length>0){var c=e(r).parents(".elementor-column").data("col");l=d(c)}n.data+="&colwidth="+l}}l=12}))))}(jQuery);